webpackJsonp([21],{"4sGJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("BO1k"),n=i.n(a),o=(i("f0da"),i("yL+Y")),r=[],l={name:"PermissionGroupsApiAdd",props:["apiTitle","ruleInline"],data:function(){return{dialogFormVisible:!1,PermissionGroupsmenu:[],defaultProps:{label:"title"},formBase:{id:0,title:"",apis:[]},PermissionApiData:[],checkedData:[]}},computed:{treeData:function(){var e=this.PermissionApiData;if(null!==r&&r.formBase.apis.length>0)r.formBase.apis.map(function(e){return e}).map(function(t){e.filter(function(e){e.id===t&&(e.checked=!0)})});return e}},methods:{dialogFormV:function(){this.dialogFormVisible=!0},dialogFormH:function(){this.dialogFormVisible=!1},handleClose:function(){this.$emit("handleCloseModal")},handleCheckChange:function(e){[].push(e)},loadApiPermissionData:function(){Object(o.c)().then(function(e,t){if(t)return t;r.PermissionApiData=e.data})},hanldeEditApiForm:function(e){var t=this;this.formBase.id=e,details({id:e}).then(function(e,i){if(i)return i;t.formBase.id=e.data.id,t.formBase.title=e.data.title}),r.loadApiPermissionData(),apiread({id:e}).then(function(e,i){if(i)return i;t.formBase.apis=e.data.apis})},handleSave:function(e){var t=this,i=[],a=!0,o=!1,l=void 0;try{for(var s,d=n()(r.checkedData);!(a=(s=d.next()).done);a=!0){var f=s.value;i.push(f.id)}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}this.$refs[e].validate(function(e){e?(t.$emit("handleCloseModal"),apiadd({id:r.formBase.id,apis:i}).then(function(e,i){if(i)return i;t.$emit("newDataes",t.formBase)})):t.$Message.error("*号为必填项!")})}},mounted:function(){},created:function(){r=this},updated:function(){}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-form"},[i("el-dialog",{attrs:{title:e.apiTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"120px"},attrs:{rules:e.ruleInline,model:e.formBase,"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:e.$t("table.powerTitle"),prop:"title"}},[i("el-input",{model:{value:e.formBase.title,callback:function(t){e.$set(e.formBase,"title",t)},expression:"formBase.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("table.powerDistriB")}},[i("el-tree",{ref:"treeMenu",attrs:{data:e.treeData,"show-checkbox":"","node-key":"id","default-expanded-keys":[0],props:e.defaultProps},on:{"check-change":e.handleCheckChange}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("table.signOut")))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSave("formBase")}}},[e._v(e._s(e.$t("table.preserve")))])],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(l,s,!1,function(e){i("g5pm")},null,null);t.default=d.exports},g5pm:function(e,t){}});
//# sourceMappingURL=21.3568e7836a95ef39e37d.js.map